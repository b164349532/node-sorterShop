(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04cd0d08"],{"0eb4":function(e,t,a){"use strict";var n=a("7a23"),o=Object(n["D"])("data-v-1231890e");Object(n["s"])("data-v-1231890e");var s={class:"toast"};Object(n["q"])();var r=o((function(e,t,a,o,r,c){return Object(n["p"])(),Object(n["d"])("div",s,Object(n["y"])(a.message),1)})),c={props:["message"]};a("ddc6");c.render=r,c.__scopeId="data-v-1231890e";t["a"]=c},"98b9":function(e,t,a){},ddc6:function(e,t,a){"use strict";a("98b9")},de4b:function(e,t,a){},edb5:function(e,t,a){"use strict";a("de4b")},ede4:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o=Object(n["D"])("data-v-3aeb6472");Object(n["s"])("data-v-3aeb6472");var s={class:"login"},r={class:"wrapper"},c={class:"wrapper__input"},u={class:"wrapper__input"},i=Object(n["g"])("div",{class:"wrapper__register-button"},"立即注册",-1);Object(n["q"])();var d=o((function(e,t,a,d,p,l){var b=Object(n["w"])("router-link"),g=Object(n["w"])("Toast");return Object(n["p"])(),Object(n["d"])("div",s,[Object(n["g"])("div",r,[Object(n["g"])("div",c,[Object(n["C"])(Object(n["g"])("input",{type:"text",class:"wrapper__input__content",placeholder:"请输入用户名","onUpdate:modelValue":t[1]||(t[1]=function(e){return p.loginFrom.username=e})},null,512),[[n["A"],p.loginFrom.username]])]),Object(n["g"])("div",u,[Object(n["C"])(Object(n["g"])("input",{type:"password",class:"wrapper__input__content",placeholder:"请输入密码","onUpdate:modelValue":t[2]||(t[2]=function(e){return p.loginFrom.password=e}),autocomplete:"new-password"},null,512),[[n["A"],p.loginFrom.password]])]),Object(n["g"])("div",null,[Object(n["g"])("button",{class:"wrapper__login-button",onClick:t[3]||(t[3]=function(){return l.handleLogin&&l.handleLogin.apply(l,arguments)})},"登录"),Object(n["g"])(b,{to:{name:"Register"},style:{"text-decoration":"none"}},{default:o((function(){return[i]})),_:1})])]),p.toast.showToast?(Object(n["p"])(),Object(n["d"])(g,{key:0,message:p.toast.toastMessage},null,8,["message"])):Object(n["e"])("",!0)])})),p=a("1da1"),l=(a("96cf"),a("b7da")),b=a("a18c"),g=a("0eb4"),m=a("bc3a"),w=a.n(m),j={name:"Login",components:{Toast:g["a"]},data:function(){return{loginFrom:[{username:"",password:""}],toast:{showToast:!1,toastMessage:""}}},mounted:function(){w.a.interceptors.request.use((function(e){var t=localStorage.getItem("token");return console.log("123"),console.log(t),t&&(e.headers.authorization=t),e}))},methods:{handleLogin:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["post"])("api/user/login",{username:e.loginFrom.username,password:e.loginFrom.password});case 2:a=t.sent,n=a.data,0!==n.errno?(e.toast.showToast=!0,e.toast.toastMessage="账号或密码错误",setTimeout((function(){e.toast.showToast=!1,e.toast.toastMessage=""}),2e3)):(n.data.token&&localStorage.setItem("token",n.data.token),b["a"].push("/"));case 5:case"end":return t.stop()}}),t)})))()}}};a("edb5");j.render=d,j.__scopeId="data-v-3aeb6472";t["default"]=j}}]);
//# sourceMappingURL=chunk-04cd0d08.d1963a60.js.map